## ------------------------------------------------------------------------
#install.packages("gapminder")
require(gapminder)


## ----R challenge---------------------------------------------------------



## ------------------------------------------------------------------------
sex <- factor(c('m', 'f', 'm', 'f'),
              levels = c('m', 'f')) 


## ------------------------------------------------------------------------
sex[1] <- 'male'


## ------------------------------------------------------------------------
sex


## ------------------------------------------------------------------------
sex <- factor(c('m', 'f', 'm', 'f'), 
              levels = c('m', 'f'))


## ------------------------------------------------------------------------
levels(sex)


## ------------------------------------------------------------------------
levels(sex) <- c('male', 'female')
sex


## ----R challenge---------------------------------------------------------



## ------------------------------------------------------------------------
asia$country <- droplevels(asia$country)
levels(asia$country)


## ------------------------------------------------------------------------
levels(sex) <- c(levels(sex), 'x')


## ------------------------------------------------------------------------
cut(gapminder$pop,
     breaks = c(0, 10^7, 5*10^7, 10^8, Inf))


## ----R challenge---------------------------------------------------------


## ------------------------------------------------------------------------
ggplot(gapminder2007) + 
  geom_bar(aes(life_expectancy_binned))


## ------------------------------------------------------------------------
ggplot(gapminder2007) + 
  geom_bar(aes(life_expectancy_binned, 
               fill = continent))


## ------------------------------------------------------------------------
ggplot(gapminder2007) + 
  geom_bar(aes(life_expectancy_binned, 
               fill = continent),
           position = position_dodge())


## ------------------------------------------------------------------------
ggplot(gapminder2007) + 
  geom_bar(aes(life_expectancy_binned,
               fill = continent, 
               y = ..prop.., group = continent), 
           position = position_dodge()) 


## ------------------------------------------------------------------------
as.Date('2019-06-17',
         format = '%Y-%m-%d')


## ------------------------------------------------------------------------
as.Date('2019-06-17',
         format = '%Y-%m-%d')


## ------------------------------------------------------------------------
## ?strptime


## ------------------------------------------------------------------------
## as.Date(21717, origin = '1960-01-01')


## ----R challenge---------------------------------------------------------



## ------------------------------------------------------------------------
today <- as.Date('2019-06-17', 
                 format = '%Y-%m-%d') 
format(today, '%A %d %B %Y')


## ------------------------------------------------------------------------
policy_duration =
   policy_data$end - policy_data$start


## ------------------------------------------------------------------------
tomorrow = today + 1
print(tomorrow)


## ------------------------------------------------------------------------
# install.packages("lubridate")
require(lubridate)


## ------------------------------------------------------------------------
year(today)


## ------------------------------------------------------------------------
today + months(3)


## ------------------------------------------------------------------------
floor_date(today, unit = "month")


## ------------------------------------------------------------------------
seq(from = as.Date('2019-01-01'), 
    to = as.Date('2019-12-31'), 
    by = '1 month')


## ----R challenge----------------------------------------------------------

